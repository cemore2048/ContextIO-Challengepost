 <!doctype html>
<html>

<head>
	<title> </title>
	<script src="/d3.min.js" type="text/javascript"></script>
	<script src="/jquery-2.1.4.js"></script>


	<script>
	var data;
	var start = new Dat().getTime();
	var offset = 0;
	var maxOffset = 1000;
	var baseUrl = "/api/messages";

	var callback = function(json) {
		console.log(json);
		console.log("current offset: "  + offset);

		data = json;
		offset += 100;

		if(offset > maxOffset){
			var end = new Date().getTime();
			var time = end - start;
			console.log("Time to execute : "  + time);
			return;
		}

		d3.json(baseUrl + "/" + offset, callback);
	}


	$('button').click(function(){
		d3.json(baseUrl + "/" + offset, callback);
	});

	</script>
</head>
<body>
		<button>Send an HTTP GET request to a page and get the result back</button>
</body>
<html>
